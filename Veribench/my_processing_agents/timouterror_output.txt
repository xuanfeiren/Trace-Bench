============================================================
TEST 1: Simple Lean code (should compile quickly)
============================================================
Code (86 chars):

def hello : Nat := 42

def add (x y : Nat) : Nat := x + y

#eval hello
#eval add 3 5


Running lean_interpreter...

âœ… Valid: True
Num errors: 0
Time: 0.27s

============================================================
TEST 2: Complex code with native_decide (may timeout)
============================================================
Code (2798 chars)
First 150 chars: /-!
# Binary Search Implementation in Lean 4

This module implements binary search over a sorted list of natural numbers.

Edge cases:
- Empty list re...

Running lean_interpreter...

Valid: False
Num errors: 1
Time: 120.41s

Error messages: ['The Lean 4 PyPantograph server threw some exception, traceback: Traceback (most recent call last):\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/streams.py", line 562, in readline\n    line = await self.readuntil(sep)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/streams.py", line 677, in readuntil\n    await self._wait_for_data(\'readuntil\')\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/streams.py", line 539, in _wait_for_data\n    await self._waiter\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/.venv/lib/python3.13/site-packages/pantograph/server.py", line 180, in run_async\n    line = await asyncio.wait_for(self.proc.stdout.readline(), self.timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/tasks.py", line 506, in wait_for\n    async with timeouts.timeout(timeout):\n               ~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/timeouts.py", line 116, in __aexit__\n    raise TimeoutError from exc_val\nTimeoutError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/my_processing_agents/lean4_utils.py", line 51, in get_list_lean4_all_mgs_and_error_mgs\n    compilation_units: List[CompilationUnit] = server.load_sorry(lean_snippet)\n                                               ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/.venv/lib/python3.13/site-packages/pantograph/utils.py", line 48, in wrapper\n    return future.result()\n           ~~~~~~~~~~~~~^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py", line 456, in result\n    return self.__get_result()\n           ~~~~~~~~~~~~~~~~~^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result\n    raise self._exception\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/concurrent/futures/thread.py", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/.venv/lib/python3.13/site-packages/pantograph/utils.py", line 34, in _run_in_worker\n    return loop.run_until_complete(coro)\n           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/base_events.py", line 725, in run_until_complete\n    return future.result()\n           ~~~~~~~~~~~~~^^\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/.venv/lib/python3.13/site-packages/pantograph/server.py", line 375, in load_sorry_async\n    result = await self.run_async(\'frontend.process\', {\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    })\n    ^^\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/.venv/lib/python3.13/site-packages/pantograph/server.py", line 185, in run_async\n    raise ServerError("Cannot decode") from e\npantograph.server.ServerError: Cannot decode\n, and exception was: Cannot decode, likely an error more serious and not just a Lean 4 if the Lean 4 server crashed, which it seems it did.']

Error details: ['Error processing message: The Lean 4 PyPantograph server threw some exception, traceback: Traceback (most recent call last):\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/tasks.py", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/streams.py", line 562, in readline\n    line = await self.readuntil(sep)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/streams.py", line 677, in readuntil\n    await self._wait_for_data(\'readuntil\')\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/streams.py", line 539, in _wait_for_data\n    await self._waiter\nasyncio.exceptions.CancelledError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/.venv/lib/python3.13/site-packages/pantograph/server.py", line 180, in run_async\n    line = await asyncio.wait_for(self.proc.stdout.readline(), self.timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/tasks.py", line 506, in wait_for\n    async with timeouts.timeout(timeout):\n               ~~~~~~~~~~~~~~~~^^^^^^^^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/timeouts.py", line 116, in __aexit__\n    raise TimeoutError from exc_val\nTimeoutError\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/my_processing_agents/lean4_utils.py", line 51, in get_list_lean4_all_mgs_and_error_mgs\n    compilation_units: List[CompilationUnit] = server.load_sorry(lean_snippet)\n                                               ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/.venv/lib/python3.13/site-packages/pantograph/utils.py", line 48, in wrapper\n    return future.result()\n           ~~~~~~~~~~~~~^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py", line 456, in result\n    return self.__get_result()\n           ~~~~~~~~~~~~~~~~~^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/concurrent/futures/_base.py", line 401, in __get_result\n    raise self._exception\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/concurrent/futures/thread.py", line 59, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/.venv/lib/python3.13/site-packages/pantograph/utils.py", line 34, in _run_in_worker\n    return loop.run_until_complete(coro)\n           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File "/Users/xuanfeiren/.local/share/uv/python/cpython-3.13.5-macos-aarch64-none/lib/python3.13/asyncio/base_events.py", line 725, in run_until_complete\n    return future.result()\n           ~~~~~~~~~~~~~^^\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/.venv/lib/python3.13/site-packages/pantograph/server.py", line 375, in load_sorry_async\n    result = await self.run_async(\'frontend.process\', {\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    })\n    ^^\n  File "/Users/xuanfeiren/Documents/Trace-Bench/Veribench/.venv/lib/python3.13/site-packages/pantograph/server.py", line 185, in run_async\n    raise ServerError("Cannot decode") from e\npantograph.server.ServerError: Cannot decode\n, and exception was: Cannot decode, likely an error more serious and not just a Lean 4 if the Lean 4 server crashed, which it seems it did.\nException: invalid literal for int() with base 10: \' Traceback (most recent call last)\'']
